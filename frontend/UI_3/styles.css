/* ===== Hanami Books — layout mới: sidebar + grid ===== */
:root{
  --bg:#FFF9FB;
  --paper:#FFFFFF;
  --ink:#222;
  --muted:#5B6472;
  --line:#EDE7EF;
  --brand:#FFB3C7;
  --brand2:#B3E5FC;
  --accent:#8EE3A6;
  --r-lg:22px;
  --r-md:14px;
  --shadow:0 10px 28px rgba(37,44,97,.10);
  --fast:160ms;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Nunito',system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  color:var(--ink);
  background:
    radial-gradient(800px 420px at 85% -10%, rgba(255,179,199,.18), transparent 60%),
    radial-gradient(900px 420px at -10% 20%, rgba(179,229,252,.18), transparent 60%),
    var(--bg);
}

/* Header */
.hb-header{position:sticky;top:0;z-index:40;background:rgba(255,255,255,.85);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
.hb-header__bar{max-width:1280px;margin:auto;padding:10px 20px;display:grid;grid-template-columns:240px 1fr auto;gap:12px;align-items:center}
.hb-logo{display:flex;align-items:center;gap:10px;font-weight:800;text-decoration:none;color:var(--ink)}
.hb-logo svg{width:28px;height:28px}
.hb-logo .dot{color:#f43f5e}
.hb-search{display:flex;gap:8px}
.hb-search input{flex:1;padding:12px 14px;border:1px solid var(--line);border-radius:var(--r-md);background:#fff}
.hb-btn{padding:12px 14px;border-radius:var(--r-md);border:1px solid var(--line);background:linear-gradient(180deg,#fff,#F7F9FF);cursor:pointer;transition:transform var(--fast),box-shadow var(--fast)}
.hb-btn:hover{box-shadow:var(--shadow)}
.hb-btn--prime{background:linear-gradient(90deg,var(--brand),var(--brand2));border:none}
.hb-btn--sm{padding:8px 10px;border-radius:12px;font-weight:800}
.hb-icon{height:40px;padding:0 12px;border:1px solid var(--line);border-radius:12px;background:#fff;cursor:pointer}
.hb-icon b{margin-left:6px}

/* Shell */
.hb-shell{max-width:1280px;margin:auto;display:grid;grid-template-columns:280px 1fr;gap:20px;padding:18px 20px}

/* Sidebar */
.hb-side{position:sticky;top:72px;align-self:start;border:1px solid var(--line);background:var(--paper);border-radius:var(--r-lg);padding:16px;box-shadow:var(--shadow)}
.hb-side__title{margin:0 0 10px 0}
.hb-cats{display:grid;gap:8px}
.hb-cat{padding:10px 12px;border:1px solid var(--line);border-radius:999px;background:#fff;cursor:pointer;text-align:left}
.hb-cat.is-active,.hb-cat:hover{background:linear-gradient(90deg, rgba(255,179,199,.35), rgba(179,229,252,.35))}
.hb-promo{margin-top:18px;border-top:1px dashed var(--line);padding-top:14px}
.hb-sub{display:flex;gap:8px;margin-top:8px}
.hb-sub input{flex:1;padding:10px 12px;border:1px solid var(--line);border-radius:12px;background:#fff}

/* Grid wrap */
.hb-gridwrap{min-width:0}
.hb-sectionhead{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;gap:8px}
.hb-tags{display:flex;gap:8px;flex-wrap:wrap}
.hb-tag{padding:8px 12px;border:1px dashed var(--line);border-radius:999px;background:#fff;cursor:pointer}
.hb-tag.is-clear{border-style:solid}

/* Grid sản phẩm */
.hb-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.hb-card{border:1px solid var(--line);background:var(--paper);border-radius:18px;overflow:hidden;transition:transform var(--fast),box-shadow var(--fast);position:relative}
.hb-card:hover{transform:translateY(-2px);box-shadow:var(--shadow)}
.hb-thumb{height:170px;background:
  linear-gradient(180deg, rgba(255,179,199,.32), rgba(179,229,252,.28)),
  repeating-linear-gradient(45deg, rgba(0,0,0,.04) 0 6px, transparent 6px 12px),
  #F7F8FE}
.hb-info{padding:12px}
.hb-name{margin:0 0 6px 0;font-size:16px;font-weight:800}
.hb-author{margin:0 0 8px 0;color:var(--muted)}
.hb-buy{display:flex;align-items:center;justify-content:space-between;border-top:1px solid var(--line);padding-top:10px}
.hb-price{font-weight:800}

/* Footer */
.hb-foot{border-top:1px solid var(--line);padding:18px 20px;background:#fff;color:#111}
.hb-foot, .hb-foot__links{display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap}
.hb-foot__links a{color:#334155;text-decoration:none}
.hb-foot__links a:hover{text-decoration:underline}

/* Toast */
#toast{position:fixed;right:16px;bottom:16px;min-width:220px;max-width:90vw;padding:12px 14px;border-radius:12px;border:1px solid var(--line);background:#fff;color:#111;box-shadow:var(--shadow);opacity:0;transform:translateY(10px);pointer-events:none;transition:opacity var(--fast),transform var(--fast);z-index:60}
#toast.show{opacity:1;transform:translateY(0)}

/* Drawer giỏ hàng */
.hb-drawer{position:fixed;top:0;right:0;bottom:0;width:360px;max-width:92vw;background:#fff;border-left:1px solid var(--line);transform:translateX(100%);transition:transform var(--fast);z-index:70;display:flex;flex-direction:column}
.hb-drawer.open{transform:translateX(0)}
.hb-drawer__hd{display:flex;align-items:center;justify-content:space-between;padding:14px;border-bottom:1px solid var(--line)}
.hb-cart{list-style:none;margin:0;padding:0;overflow:auto;flex:1}
.hb-cart li{display:grid;grid-template-columns:1fr auto;gap:8px;padding:12px 14px;border-bottom:1px dashed var(--line)}
.hb-drawer__ft{display:flex;align-items:center;justify-content:space-between;padding:14px;border-top:1px solid var(--line);gap:10px}

/* A11y focus */
:where(button,a,input):focus-visible{outline:3px solid #1113;outline-offset:2px}

/* Responsive — Mobile 2 cột cố định */
@media (max-width: 980px){
  .hb-header__bar{grid-template-columns:1fr auto;gap:10px}
  .hb-logo{display:none}
  .hb-shell{grid-template-columns:1fr}
  .hb-side{position:relative;top:auto}
  .hb-cats{grid-auto-flow:column;grid-auto-columns:max-content;overflow:auto;padding-bottom:8px}
}
@media (max-width: 560px){
  .hb-grid{grid-template-columns:repeat(2,1fr)}
  .hb-thumb{height:150px}
}
